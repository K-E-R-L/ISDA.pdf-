
import PyPDF2
import re 


#Write a for-loop to open many files (leave a comment if you'd like to learn how).
filename = 'SampleISDA.pdf' 

#open allows you to read the file.
pdfFileObj = open(filename,'rb')

#The pdfReader variable is a readable object that will be parsed.
pdfReader = PyPDF2.PdfFileReader(pdfFileObj)

#Discerning the number of pages will allow us to parse through all the pages.
num_pages = pdfReader.numPages
count = 0
text = ""

#The while loop will read each page.
while count < num_pages:
    pageObj = pdfReader.getPage(count)
    count +=1
    text += pageObj.extractText()

#This if statement exists to check if the above library returned words. It's done because PyPDF2 cannot read scanned files.
if text != "":
   text = text

#If the above returns as False, we run the OCR library textract to #convert scanned/image based PDF files into text.
else:
   text = textract.process(fileurl, method='tesseract', language='eng')

#Now we have a text variable that contains all the text derived from our PDF file. Type print(text) to see what it contains. It likely contains a lot of spaces, possibly junk such as '\n,' etc.


if re.search("Specified Entity | Party A| Not Applicable", text):
    print("Schedule (a): Specified Entity not applicable to Party A")
else:
    print("Specified Entity is applicable to Party A")
    
    
if re.search("Termination Currency| United States Dollar", text):
    print("Schedule (g): Termination Currency is USD")
else:
    print("Termination Currency is British Pound")
    

if re.search("Governing Law |United States", text):
    print("Schedule (h): Governing Law is New York")
else:
    print("Governing law is English")
